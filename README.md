字符编码和字符集
================

 

什么是字符编码：
----------------

-   计算机只能处理和存储数字；

-   编码就是信息的数字表示形式，如果信息表示的是“字符”，则该信息的编码就称为“字符编码”；

 

什么是字符集：
--------------

-   一门语言所有字符的某种编码的集合就称为“字符集”；

 

不同的编码：
------------

-   计算机在发展过程中，人们不断尝试用各种方法编码某种语言的字符，虽然之后有国际组织出面推出了统一方式的编码，但由于历史原因，或一些其它原因（例如汉字排序问题），目前的实际情况是一种语言同时包含若干种字符编码方式，且大部分互相之间并不兼容；

-   编码的区别：

    -   不同编码的区别主要包括：

        -   字节数：单字节，双字节，多字节；

        -   编码长度：定长编码、变长编码

        -   字节序：Big-Endian，Little-Endian

-   常用的编码包括：

    -   ASCII：1byte，最高位忽略，可编码128个字符（`0x0~0x7F`），是一种定长编码；

    -   ISO-8859.1/Latin-1：1byte，最高位不忽略，可编码256个字符（`0x0~0xFF`），兼容ASCII编码，是一种定长编码；

    -   GB2312/GB13000/GB18030：

        -   GB13000：收录了21003个汉字和字符且兼容ASCII编码。采用1\~2个字节进行编码，当字节最高位是0时相当于ASCII编码，最高位为1时表示汉字或其它非ASCII字符编码的第一个字节；当使用双字节编码时，第一个字节大于`0x80`，表示区码（相当于页码），第二个字节大于`0x40`，表示位码（相当于每页第几个）。该编码也称为区位码或GBK编码，是一种变长编码；

        -   GB2312：是GB13000的子集，不包含大部分生僻字和繁体字符，编码方式和GB13000基本类似，但区码范围要小一些；

        -   GB18030：使用1\~4字节进行编码，向下兼容ASCII编码（1字节），GB13000编码（2字节）和4字节字符编码，收录了几乎所有的汉字，少数民族字符，周边国家字符等，编码规则为：字节最高位为0时，相当于ASCII编码；字节最高位为1且值大于`0x80`时，表示非ASCII字符，第二个字节值大于`0x40`时，这两个字节组成相当于GB13000编码，第二字节小于`0x40`则这两个字节和后续两个字节组成4字节编码；是一种变长编码；

    -   BIG5：

        -   台湾地区使用的编码，主要是繁体中文编码；

    -   UNICODE/ISO-10646

        -   UTF-8：使用1\~6字节编码一个字符，兼容ISO-8859.1编码，通过第一个字节高位1的数量表示总共使用多少个字节编码一个字符（例如`01100100`表示1字节编码，而`11001001
            10100100`表示2字节编码，同理`111`开头的表示3字节编码），其后的字节高位均是`10`，一个或多个字节组合表示一个字符，是一种定长编码。

        -   UTF-16/UCS-2：使用2字节编码，一开始编码了65535个字符（`0x0~0xFFFF`），包括了世界上主要国家的常用文字，这些字符集组成了UTF-16的BMP（基本字符平面，也称为0平面）；如果使用BMP，则可以认为UTF-16是一种定长编码。如果使用其它平面，则需要4个字节组成Surrogate
            Pair来表示一个字符（具体规则是使用前两个字节的低10位和后两个字节的低10位组成20位编码，由编码的高4位表示平面号，低16位表示编码值，高位部分全部为0），该编码不兼容ASCII编码。

        -   UTF-32/UCS-4：使用4字节编码（即`0x0~0xFFFFFFFF`），可以编码所有已知文字和符号以及未来可能出现的文字和符号，定长编码。

-   字节序：由于不同CPU使用的字节序不同（例如：Intel
    CPU为了向后兼容，采用了Big-Endian，而ARM和PowerPC则相反），所以同种字符编码在不同计算机上存储的字节序也有可能不同，在信息传输时可能需要转换字节序；字节序问题只会影响UCS编码，UTF-8，GBK等编码不会受到影响；

-   BOM：BOM（Byte Order
    Mark）是一种标记，放置在文本编码的最前面，用于说明这段文本字符编码的字节序（也可以用于说明编码方式）。BOM主要是Windows系统在使用。例如：

    -   `0xFEFF`表示编码是Big-Endian的UCS编码；

    -   `0xFFFE`表示编码是Little-Endian的UCS编码；

    -   `0xEFBBBF`表示编码是UTF-8编码

 

编码转换：
----------

-   编码转换的主要
